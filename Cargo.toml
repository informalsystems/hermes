[workspace]

resolver = "2"

members = [
    "crates/relayer",
    "crates/relayer-types",
    "crates/relayer-cli",
    "crates/relayer-rest",
    "crates/telemetry",
    "crates/chain-registry",
    "tools/integration-test",
    "tools/test-framework",
]

exclude = [
    "tools/check-guide",
    "tools/query-events",
]

[profile.release]
overflow-checks = true

[workspace.package]
edition = "2021"
license = "Apache-2.0"
repository   = "https://github.com/informalsystems/hermes"
homepage   = "https://hermes.informal.systems/"
rust-version = "1.65"
authors = ["Informal Systems <hello@informal.systems>"]

[workspace.dependencies]
ibc-proto                       = "0.32.0"
tendermint-rpc                  = "0.32.0"
async-trait                     = "0.1.69"
flex-error                      = { version = "0.4.4", default-features = false }
futures                         = "0.3.27"
reqwest                         = { version = "0.11.16", default-features = false }
serde                           = "1.0"
tokio                           = "1.17.0"
subtle-encoding                 = "0.5"
humantime-serde                 = "1.1.1"
serde_derive                    = "1.0"
thiserror                       = "1.0.40"
toml                            = "0.7.3"
tracing                         = { version = "0.1.36", default-features = false }
serde_json                      = "1"
bytes                           = "1.4.0"
prost                           = "0.11"
tonic                           = "0.9"
crossbeam-channel               = "0.5.8"
hex                             = "0.4"
bitcoin                         = "0.30.0"
tiny-bip39                      = "1.0.0"
hdpath                          = "0.6.3"
sha2                            = "0.10.6"
tiny-keccak                     = { version = "2.0.2", default-features = false }
ripemd                          = "0.1.3"
bech32                          = "0.9.1"
itertools                       = "0.10.5"
dirs-next                       = "2.0.0"
retry                           = { version = "2.0.0", default-features = false }
async-stream                    = "0.3.5"
http                            = "0.2.9"
signature                       = "1.6.0"
anyhow                          = "1.0"
semver                          = "1.0"
humantime                       = "2.1.0"
regex                           = "1.8"
moka                            = "0.11.2"
uuid                            = "1.4.0"
bs58                            = "0.5.0"
digest                          = "0.10.6"
ed25519                         = "1.5.2"
ed25519-dalek                   = "1.0.1"
ed25519-dalek-bip32             = "0.2.0"
generic-array                   = "0.14.7"
secp256k1                       = "0.27.0"
strum                           = "0.24.1"
num-bigint                      = "0.4"
num-rational                    = "0.4.1"
serial_test                     = "2.0.0"
env_logger                      = "0.10.0"
tracing-subscriber              = "0.3.14"
test-log                        = "0.2.10"
atty                            = "0.2.14"
clap                            = "3.2"
clap_complete                   = "3.2"
color-eyre                      = "0.6"
console                         = "0.15.5"
eyre                            = "0.6.8"
oneline-eyre                    = "0.1"
signal-hook                     = "0.3.15"
abscissa_core                   = "=0.6.0"
once_cell                       = "1.17.1"
rouille                         = "3.6"
ureq                            = "2.6.2"
ics23                           = "0.10.1"
time                            = ">=0.3.0, <0.3.23"
erased-serde                    = "0.3"
safe-regex                      = "0.2.5"
derive_more                     = { version = "0.99.17", default-features = false }
uint                            = "0.9"
primitive-types                 = { version = "0.12.1", default-features = false }
dyn-clone                       = "1.0.8"
modelator                       = "0.4.2"
dialoguer                       = "0.10.3"
opentelemetry                   = "0.19.0"
opentelemetry-prometheus        = "0.12.0"
prometheus                      = "0.13.2"
dashmap                         = "5.4.0"
lazy_static                     = "1.4.0"
mdbook-template                 = "1.1.0"
walkdir                         = "2.3.2"
tempfile                        = "3.6.0"
rand                            = "0.8.5"
serde_yaml                      = "0.9.16"
chrono                          = "0.4.24"
axum                            = "0.6"
tokio-stream                    = "0.1.14"
byte-unit                       = { version = "4.0.19", default-features = false }

# tendermint crate
tendermint                       = { version = "0.32.0", default-features = false }
tendermint-proto                 = "0.32.0"
tendermint-light-client          = { version = "0.32.0", default-features = false }
tendermint-light-client-detector = { version = "0.32.0", default-features = false }
tendermint-light-client-verifier = "0.32.0"
tendermint-testgen               = "0.32.0"


# local crates
ibc-chain-registry = { version = "0.24.1", path = "./crates/chain-registry" }
ibc-relayer = { version = "0.24.1", path = "./crates/relayer" }
ibc-relayer-rest = { version = "0.24.1", path = "./crates/relayer-rest" }
ibc-relayer-types = { version = "0.24.1", path = "./crates/relayer-types" }
ibc-telemetry = { version = "0.24.1", path = "./crates/telemetry" }
ibc-relayer-cli = { version = "1.5.1", path = "./crates/relayer-cli" }

[patch.crates-io]
# ibc-proto                        = { git = "https://github.com/cosmos/ibc-proto-rs.git",       branch = "main" }
# tendermint                       = { git = "https://github.com/informalsystems/tendermint-rs.git", branch = "romac/new-misbehavior-detector" }
# tendermint-rpc                   = { git = "https://github.com/informalsystems/tendermint-rs.git", branch = "romac/new-misbehavior-detector" }
# tendermint-proto                 = { git = "https://github.com/informalsystems/tendermint-rs.git", branch = "romac/new-misbehavior-detector" }
# tendermint-light-client          = { git = "https://github.com/informalsystems/tendermint-rs.git", branch = "romac/new-misbehavior-detector" }
# tendermint-light-client-verifier = { git = "https://github.com/informalsystems/tendermint-rs.git", branch = "romac/new-misbehavior-detector" }
# tendermint-light-client-detector = { git = "https://github.com/informalsystems/tendermint-rs.git", branch = "romac/new-misbehavior-detector" }
# tendermint-testgen               = { git = "https://github.com/informalsystems/tendermint-rs.git", branch = "romac/new-misbehavior-detector" }
