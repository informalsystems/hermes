[package]
name         = "ibc-relayer-types"
version      = "0.24.1"
edition      = { workspace = true }
license      = { workspace = true }
readme       = "README.md"
keywords     = ["blockchain", "consensus", "cosmos", "ibc", "tendermint"]
repository   = { workspace = true }
authors      = { workspace = true }
rust-version = { workspace = true }
description  = """
    Implementation of the Inter-Blockchain Communication Protocol (IBC).
    This crate comprises the main data structures and on-chain logic.
"""

[package.metadata.docs.rs]
all-features = true

[features]
clock = []
# This feature grants access to development-time mocking libraries, such as `MockContext` or `MockHeader`.
# Depends on the `testgen` suite for generating Tendermint light blocks.
mocks = ["tendermint-testgen", "clock"]

[dependencies]
# Proto definitions for all IBC-related interfaces, e.g., connections or channels.
ibc-proto           = { workspace = true }
ics23               = { workspace = true, features = ["std", "host-functions"] }
time                = { workspace = true }
serde_derive        = { workspace = true }
serde               = { workspace = true }
serde_json          = { workspace = true }
erased-serde        = { workspace = true }
prost               = { workspace = true }
bytes               = { workspace = true }
safe-regex          = { workspace = true }
subtle-encoding     = { workspace = true }
flex-error          = { workspace = true }
derive_more         = { workspace = true, default-features = false, features = ["from", "into", "display"] }
uint                = { workspace = true }
itertools           = { workspace = true }
primitive-types     = { workspace = true, default-features = false, features = ["serde_no_std"] }
dyn-clone           = { workspace = true }
num-rational        = { workspace = true }

[dependencies.tendermint]
workspace = true
features = ["clock"]

[dependencies.tendermint-proto]
workspace = true

[dependencies.tendermint-light-client-verifier]
workspace = true
features = ["rust-crypto"]

[dependencies.tendermint-testgen]
workspace = true
optional = true

[dev-dependencies]
env_logger          = { workspace = true }
tracing             = { workspace = true, default-features = false }
tracing-subscriber  = { workspace = true, features = ["fmt", "env-filter", "json"] }
test-log            = { workspace = true, features = ["trace"] }
tendermint-rpc      = { workspace = true, features = ["http-client", "websocket-client"] }
tendermint-testgen  = { workspace = true } # Needed for generating (synthetic) light blocks.
